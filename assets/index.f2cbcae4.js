import{E as O,h}from"./index.f9543b85.js";const U=(e,n)=>{const _=Math.pow(10,n||2);return`${Math.floor(e*100*_)/_} %`},D=(e,n)=>{const _=10**n;return Number(e)>0?Math.floor(Number(e)*_)/_:Math.ceil(Number(e)*_)/_},l=(e,n)=>{const _=Math.pow(10,n);return Math.round(e*_)/_},b="odofmine/td",I=`https://raw.githubusercontent.com/${b}/main`,m={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d367b3ff-84a9-4f89-88e9-4f86091856de",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.19 npm/? node/v16.18.1 linux x64",CI:"true",npm_package_devDependencies_less:"^4.1.2",npm_package_dependencies_vue:"^3.2.25",npm_config_bin_links:"true",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d367b3ff-84a9-4f89-88e9-4f86091856de",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/16.18.1/x64/bin/node",npm_package_devDependencies_vite:"^2.7.2",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",npm_package_dependencies_vuex:"^4.0.2",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GRAALVM_11_ROOT:"/usr/local/graalvm/graalvm-ce-java11-22.3.0",GITHUB_REPOSITORY_OWNER:"trendfund",COREPACK_ROOT:"/opt/hostedtoolcache/node/16.18.1/x64/lib/node_modules/corepack",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-7.6",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"665",npm_package_dependencies_dayjs:"^1.10.7",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"``` yarn dev ```",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20221212.1",npm_package_scripts_dev:"vite",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_dependencies__element_plus_icons_vue:"^1.1.4",RUNNER_USER:"runner",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16195",GITHUB_WORKFLOW:"Deploy sentosa",_:"/opt/hostedtoolcache/node/16.18.1/x64/bin/yarn",npm_config_registry:"https://registry.yarnpkg.com",GITHUB_RUN_ID:"3871066807",GOROOT_1_17_X64:"/opt/hostedtoolcache/go/1.17.13/x64",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_devDependencies__vitejs_plugin_vue:"^2.0.0",npm_config_ignore_scripts:"",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.9/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/yarn--1673242484980-0.6625904543077006:/home/runner/work/backtest-site-fed/backtest-site-fed/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/16.18.1/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/16.18.1/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_cb7feb99-39cc-4bb2-b5c3-e372f497beb5",INVOCATION_ID:"4b76979816ff4ffbacd48c943c49e43c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.4/x64",npm_package_name:"backtest-site",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"86",GITHUB_TRIGGERING_ACTOR:"imkgk",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_echarts:"^5.2.2",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_dependencies_klinecharts:"^8.3.6",npm_package_dependencies_element_plus:"^1.3.0-beta.1",CONDA:"/usr/share/miniconda",RUNNER_NAME:"Hosted Agent",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"trendfund/backtest-site-fed",npm_lifecycle_script:"vite build --base=/sentosa/",npm_package_dependencies_vue_echarts:"^6.0.0",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_dependencies_d3_array:"^3.1.1",npm_package_version:"0.0.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_scripts_build:"vite build --base=/sentosa/",GITHUB_WORKSPACE:"/home/runner/work/backtest-site-fed/backtest-site-fed",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"e8516146f35b62cc856eda477380a9eca769810f",GITHUB_RUN_ATTEMPT:"1",npm_package_dependencies_vue_router:"^4.0.12",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"imkgk",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_strict_ssl:"true",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d367b3ff-84a9-4f89-88e9-4f86091856de",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/backtest-site-fed/backtest-site-fed",RUNNER_WORKSPACE:"/home/runner/work/backtest-site-fed",npm_execpath:"/home/runner/.cache/node/corepack/yarn/1.22.19/bin/yarn.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d367b3ff-84a9-4f89-88e9-4f86091856de",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.1.8937393",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",npm_package_dependencies_vue_grid_layout:"^3.0.0-beta1",INIT_CWD:"/home/runner/work/backtest-site-fed/backtest-site-fed",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d367b3ff-84a9-4f89-88e9-4f86091856de",NODE_ENV:"production"}.BASE_URL?{GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_d367b3ff-84a9-4f89-88e9-4f86091856de",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.19 npm/? node/v16.18.1 linux x64",CI:"true",npm_package_devDependencies_less:"^4.1.2",npm_package_dependencies_vue:"^3.2.25",npm_config_bin_links:"true",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_d367b3ff-84a9-4f89-88e9-4f86091856de",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/16.18.1/x64/bin/node",npm_package_devDependencies_vite:"^2.7.2",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",HOME:"/home/runner",npm_package_dependencies_vuex:"^4.0.2",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GRAALVM_11_ROOT:"/usr/local/graalvm/graalvm-ce-java11-22.3.0",GITHUB_REPOSITORY_OWNER:"trendfund",COREPACK_ROOT:"/opt/hostedtoolcache/node/16.18.1/x64/lib/node_modules/corepack",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-7.6",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",SYSTEMD_EXEC_PID:"665",npm_package_dependencies_dayjs:"^1.10.7",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"``` yarn dev ```",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20221212.1",npm_package_scripts_dev:"vite",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_dependencies__element_plus_icons_vue:"^1.1.4",RUNNER_USER:"runner",CHROMEWEBDRIVER:"/usr/local/share/chrome_driver",JOURNAL_STREAM:"8:16195",GITHUB_WORKFLOW:"Deploy sentosa",_:"/opt/hostedtoolcache/node/16.18.1/x64/bin/yarn",npm_config_registry:"https://registry.yarnpkg.com",GITHUB_RUN_ID:"3871066807",GOROOT_1_17_X64:"/opt/hostedtoolcache/go/1.17.13/x64",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_devDependencies__vitejs_plugin_vue:"^2.0.0",npm_config_ignore_scripts:"",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GOROOT_1_18_X64:"/opt/hostedtoolcache/go/1.18.9/x64",GITHUB_ACTION_REPOSITORY:"",PATH:"/tmp/yarn--1673242484980-0.6625904543077006:/home/runner/work/backtest-site-fed/backtest-site-fed/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/16.18.1/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/16.18.1/x64/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/snap/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/16.18.1/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_cb7feb99-39cc-4bb2-b5c3-e372f497beb5",INVOCATION_ID:"4b76979816ff4ffbacd48c943c49e43c",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",GOROOT_1_19_X64:"/opt/hostedtoolcache/go/1.19.4/x64",npm_package_name:"backtest-site",GITHUB_ACTION:"__run_4",GITHUB_RUN_NUMBER:"86",GITHUB_TRIGGERING_ACTOR:"imkgk",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_echarts:"^5.2.2",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_dependencies_klinecharts:"^8.3.6",npm_package_dependencies_element_plus:"^1.3.0-beta.1",CONDA:"/usr/share/miniconda",RUNNER_NAME:"Hosted Agent",XDG_CONFIG_HOME:"/home/runner/.config",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"trendfund/backtest-site-fed",npm_lifecycle_script:"vite build --base=/sentosa/",npm_package_dependencies_vue_echarts:"^6.0.0",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_config_version_git_message:"v%s",GITHUB_ACTIONS:"true",npm_lifecycle_event:"build",npm_package_dependencies_d3_array:"^3.1.1",npm_package_version:"0.0.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_scripts_build:"vite build --base=/sentosa/",GITHUB_WORKSPACE:"/home/runner/work/backtest-site-fed/backtest-site-fed",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"e8516146f35b62cc856eda477380a9eca769810f",GITHUB_RUN_ATTEMPT:"1",npm_package_dependencies_vue_router:"^4.0.12",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"imkgk",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_config_strict_ssl:"true",LEIN_HOME:"/usr/local/lib/lein",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_d367b3ff-84a9-4f89-88e9-4f86091856de",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/backtest-site-fed/backtest-site-fed",RUNNER_WORKSPACE:"/home/runner/work/backtest-site-fed",npm_execpath:"/home/runner/.cache/node/corepack/yarn/1.22.19/bin/yarn.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.10.0-standalone.jar",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_d367b3ff-84a9-4f89-88e9-4f86091856de",EDGEWEBDRIVER:"/usr/local/share/edge_driver",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/25.1.8937393",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",npm_package_dependencies_vue_grid_layout:"^3.0.0-beta1",INIT_CWD:"/home/runner/work/backtest-site-fed/backtest-site-fed",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/25.1.8937393",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_d367b3ff-84a9-4f89-88e9-4f86091856de",NODE_ENV:"production"}.BASE_URL:I,d=`${m}/fof`,E="https://raw.githubusercontent.com/trendfund/crypto-ohlc/main";function T(e){O({title:"\u52A0\u8F7D\u5931\u8D25",message:h("i",{style:"color: teal"},`${e}`),type:"error",duration:0})}async function H(){const e=`${m}/list-fof.json`;return(await fetch(e)).json()}async function i(e,n,_,r=!1){const s=`${d}/${e}/${n}.json`,a=await fetch(s);return a.status!=200?(r||T(s),_):a.json()}async function u(e,n=!1){const _=Object.keys(e).map(async r=>{const s=await fetch(e[r]);if(s.status!=200)return n||T(e[r]),{name:r,data:[]};const a=await s.json();return{name:r,data:a}});return Promise.all(_)}function G(e){return i(e,"funds",[])}async function v(e,n){return await i(e,n,[])}function B(e){return i(e,"metrics",{})}function P(e){return i(e,"leverages",{})}function L(e){return i(e,"stats",{})}function S(e){return i(e,"holdings",{})}function M(e){return i(e,"stack_candidates",{},!0)}function g(e){return i(e,"config",{})}function y(e){const n={candidates:`${d}/${e}/candidates.json`};return u(n)}function C(e){const n={atr:`${d}/${e}/atr.json`};return u(n)}function w(e){const n={raw_selected:`${d}/${e}/raw_selected_pnt.json`,pool_size:`${d}/${e}/pool_sizes.json`};return u(n,!0)}function j(e,n){const _=n.reduce((r,s)=>(r[s]=`${d}/${e}/${s}.json`,r),{});return u(_)}async function x(e,n){return i(e,`daily_details/${n}`,{})}async function f(e){return i(e,"daily_pnls",{},!0)}async function F(e,n,_){const r=await f(e),s=Object.keys(r).filter(t=>t>n&&t<_),a={};s.forEach(t=>{r[t].filter(o=>o.pnl!="-").forEach(o=>{a.hasOwnProperty(o.name)?a[o.name]+=o.pnl:a[o.name]=o.pnl})});const c=Object.entries(a).map(t=>[t[0],l(t[1],4)]);return c.sort((t,o)=>o[1]-t[1]),c}async function V(e,n,_){const r=await f(e),s=Object.keys(r).filter(t=>t>n&&t<_),a={};s.forEach(t=>{r[t].filter(o=>o.pnl!="-").forEach(o=>{a.hasOwnProperty(o.name)?a[o.name]+=1:a[o.name]=1})});const c=Object.entries(a).map(t=>[t[0],l(t[1],4)]);return c.sort((t,o)=>o[1]-t[1]),c}function N(e){return[2020,2021,2022].map(n=>`${E}/binance/${e}USDT/1d/${n}_1d.json`)}function A(e){return[2017,2018,2019,2020,2021,2022].map(n=>`${E}/cryptocompare/${e}/1d/${n}_1d.json`)}async function K(e,n){const _={binance:N(n),cryptocompare:A(n)},r=await g(e),s=r.domain?r.domain:"cryptocompare",c=_[s].map(o=>fetch(o).then(p=>p.json()).catch(p=>[])),t=await Promise.all(c).then(o=>o.flat().sort((p,R)=>p[1]>R[1]));return{domain:s,data:t}}export{G as a,j as b,S as c,y as d,M as e,H as f,P as g,g as h,v as i,C as j,w as k,L as l,V as m,F as n,B as o,D as p,x as q,K as r,U as v};
