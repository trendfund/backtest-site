import{E as v,h as B,a as _,e as D,f as x,b as c,c as p,w as h,g as y,i as N,F as w,t as k,j as F}from"./index.06d8e686.js";const C="http://localhost:7777",m=C,l=`${m}/fof`;function $(t){v({title:"\u52A0\u8F7D\u5931\u8D25",message:B("i",{style:"color: teal"},`${t}`),type:"error",duration:0})}async function A(){const t=`${m}/list-fof.json`;return(await fetch(t)).json()}async function s(t,e,a,o=!1){const r=`${l}/${t}/${e}.json`,u=await fetch(r);return u.status!=200?(o||$(r),a):u.json()}async function d(t,e=!1){const a=Object.keys(t).map(async o=>{const r=await fetch(t[o]);if(r.status!=200)return e||$(t[o]),{name:o,data:[]};const u=await r.json();return{name:o,data:u}});return Promise.all(a)}function E(t){return s(t,"funds",[])}async function L(t,e){return await s(t,e,[])}function S(t){return s(t,"metrics",{})}function U(t){return s(t,"leverages",{})}function q(t){return s(t,"stats",{})}function I(t){return s(t,"holdings",{})}function P(t){return s(t,"stack_candidates",{},!0)}function G(t){return s(t,"config",{})}function H(t){const e={candidates:`${l}/${t}/candidates.json`};return d(e)}function O(t){const e={atr:`${l}/${t}/atr.json`};return d(e)}function V(t){const e={target_marketcap:`${l}/${t}/market_cap_pnt.json`,raw_marketcap:`${l}/${t}/raw_market_cap_pnt.json`,raw_selected:`${l}/${t}/raw_selected_pnt.json`,score:`${l}/${t}/portfolio_scores.json`};return d(e,!0)}function z(t,e){const a=e.reduce((o,r)=>(o[r]=`${l}/${t}/${r}.json`,o),{});return d(a)}async function J(t,e){return s(t,`daily_details/${e}`,{})}const K=(t,e)=>{const a=Math.pow(10,e||2);return`${Math.floor(t*100*a)/a} %`},Q=(t,e)=>{const a=10**e;return Number(t)>0?Math.floor(Number(t)*a)/a:Math.ceil(Number(t)*a)/a};const M={key:0},R={props:{data:{type:Array},loading:{type:Boolean},columns:{type:Array}},setup(t){const e=t,a=({row:r,column:u,rowIndex:b,columnIndex:i})=>{if(r.type==="split")return i===0?[1,e.columns.length]:[0,0]};function o(r,u){return`tf_table_row_${r.row.type}`}return(r,u)=>{const b=_("router-link"),i=_("el-table-column"),g=_("el-table"),j=D("loading");return x((c(),p(g,{data:e.data,style:{width:"100%"},border:"",class:"monospace-table","span-method":a,"row-class-name":o},{default:h(()=>[(c(!0),y(w,null,N(e.columns,n=>(c(),y(w,null,[n.path?(c(),p(i,{key:0,label:n.label},{default:h(f=>[f.row.type==="split"?(c(),y("span",M,k(f.row[n.prop]),1)):(c(),p(b,{key:1,target:"_blank",to:{path:n.path(f.row),query:n.query?n.query(f.row):{}}},{default:h(()=>[F(k(f.row[n.prop]),1)]),_:2},1032,["to"]))]),_:2},1032,["label"])):n.formatter?(c(),p(i,{key:1,prop:n.prop,label:n.label,formatter:n.formatter},null,8,["prop","label","formatter"])):(c(),p(i,{key:2,prop:n.prop,label:n.label},null,8,["prop","label"]))],64))),256))]),_:1},8,["data"])),[[j,e.loading]])}}};export{R as _,E as a,z as b,I as c,H as d,P as e,A as f,U as g,G as h,L as i,O as j,V as k,q as l,S as m,Q as n,J as o,K as v};
